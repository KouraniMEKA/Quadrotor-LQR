
%% Ineria
% -------------------------------------------------------------------
%  MATLAB file generated by Simulink.saveVars on 20-Nov-2015 20:38:30
%  MATLAB version: 8.1.0.604 (R2013a)
% -------------------------------------------------------------------
                                        
Ixx=7.5e-3;
Iyy=7.5e-3;
Izz=1.3e-2;
%axel length
l=0.23;
%% rotor inertia
Jr=6e-5;
%% mass
m = 0.650;
g = 9.81;
%% aerodynamic force and moments constant
Kf=3.13e-5;
KM=7.5e-7;

%% constants calculations
a1 = (Iyy-Izz)/Ixx;
a2 = Jr/Ixx;
a3 = (Izz-Ixx)/Iyy;
a4 = Jr/Iyy;
a5 = (Ixx-Iyy)/Izz;
b1 = l/Ixx;
b2 = l/Iyy;
b3 = 1/Izz; %1, not l

%% hover omega
omega_hover=sqrt( (m*g)/(4*Kf) );
deltaU1_max=Kf*4*omega_hover^2;
deltaU2_max=Kf*omega_hover^2;
deltaU4_max=KM*2*omega_hover^2;
omega_max=(90/100)*9000*(2*pi/(60)); % 90% of 9000 rpm to rad/s
U1_max=Kf*4*omega_max^2;
U2_max=Kf*omega_max^2;
U4_max=KM*2*omega_max^2;

U1_hover=m*g;

%% LQR

% K_hover=[0,0,0,0,0,0,-17,-11,0,0,0,0;
%         35,10,0,0,0,0,0,0,0,0,3,6;
%         0,0,35,10,0,0,0,0,-3,-6,0,0;
%         0,0,0,0,10,3,0,0,0,0,0,0];
    
%% LQI
K_hover=[5.69569249622213e-13,1.89531365870451e-15,-1.57466857817560e-15,6.95185031132290e-16,8.39284795530529e-14,4.51806830265205e-16,-17.9474107643174,-11.1054776571569,-7.77632326230154e-14,1.88786479489746e-14,2.53644214862947e-13,1.72488798264706e-13;49.1675228808413,10.1590638141113,-1.10370107195727e-12,-7.50360856396961e-15,-3.02757110244610e-14,-5.68697422933292e-16,-1.57487669583132e-15,-3.77799189301766e-15,2.68221799019998e-13,2.51950275688051e-13,13.4718391342504,11.4190992050854;-2.30526823957080e-12,-7.50360856396961e-15,49.1675228808446,10.1590638141113,1.17824958493315e-14,5.44823505897057e-16,1.36287078719153e-14,-1.38573549539036e-15,-13.4718391342519,-11.4190992050864,-7.92046253468918e-13,-6.36623119041235e-13;-2.52206063086895e-13,-8.06281790548145e-16,1.26132968514303e-13,7.72434082084674e-16,9.99999999999998,3.23419232575925,1.33401396709729e-14,-1.27684538987993e-15,-2.74843384127304e-14,-3.25908184775996e-14,-1.11625740766348e-13,-6.74763091068021e-14];

K_i=[-9.99999999999991,-5.72733003083861e-14,1.19859349350458e-13;-1.97870657968378e-15,1.52556519389084e-13,7.07106781186449;1.77273448082462e-14,-7.07106781186519,-4.93357134417905e-13;1.93679622698126e-14,-2.41180621006677e-14,-9.68167127074097e-14];
%%GUI Parameters
Z_des=0;
Y_des=0;
X_des=0;
